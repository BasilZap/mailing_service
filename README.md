# Курсовая работа №6 "Основы веб-разработки на Django".

## Функционал.
Программа работает с СУБД PostgreSQL. Сервис рассылок.
Позволяет создавать сообщения для рассылки, пользователей для рассыки,
и непосредственно сами рассылки для списка пользователей с началом, окончанием 
рассылки и периодичностью - раз в день, раз в неделю и раз в месяц.

Реализовано приложение "Блог"

Для пользователя существует возможность:

- Позволяет создавать сообщения для рассылки
- Позволяет создавать пользователей для рассыкли
- Позволяет создавать рассылки для списка пользователей с началом, окончанием рассылки и периодичностью - раз в день, раз в неделю и раз в месяц
- Позволяет просматривать публикации блога

У менеджера следующие права:

- Может просматривать любые рассылки.
- Может просматривать список пользователей сервиса.
- Может блокировать пользователей сервиса.
- Может отключать рассылки.
- Не может редактировать рассылки.
- Не может управлять списком рассылок.
- Не может изменять рассылки и сообщения.


### Требования к установке.
- В PostgreSQL должна быть создана DB - skychimp
- Необходимо заполнить таблицы БД значениями
- В панели администрирования необходимо создать группу manager с разрешениями только на просмотр данных и дополнительными правами "can blocking users" и "can stop mailing"

### Первый способ заполнения БД - воспользоваться тестовыми данными из фикстуры

Для этого необходимо запустить в консоли

```
> python manage.py loaddata skychimp.json
```

#### После выполнения команды в базе появятся:
  - Пользователи:
       - Администратор - admin@adminov.ru с паролем: 123456
       - Менеджер - manage@manage.ru с паролем: skychimp
       - 2 пользователя test1@test.ru и test2@test.ru с паролем: skychimp
  - 4 записи блога с картинками
  - Отчеты о работе рассылки пользователя test1@test.ru

  У каждого пользователя создано по одному тестовому клиенту, сообщению и рассылке

### Второй способ заполнения - ручной

Для этого необходимо создать суперпользователя (admin@adminov.ru с паролем: 123456) командой:

```
> python manage.py ucreate 
```


## Запуск сервиса

Запуск сервиса необходимо производить через команду:

```
> python manage.py runserver --noreload
```

Разовый запуск рассылки производится через команду:
```
> python manage.py get_mailing 
```


## Требования к окружению

#### В программе используется менеджер зависимостей venv.
Используются следующие зависимости:

- Django==4.2.4
- ipython==8.14.0
- Pillow==10.0.0
- psycopg2-binary==2.9.7
- pytils==0.4.1
- redis==5.0.0
- python-dotenv==1.0.0
- django-apscheduler==0.6.2

### !!! Для возможности отправки email, и подключения к postgres необходимо внести соответствующие значения в .env, .env.sample прилагается !!! 